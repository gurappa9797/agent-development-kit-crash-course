Here's your Refund Transaction Agent for travel insurance that follows the same structure as your previous payment processing agent.
Key Features:

Refund Types:

Full refunds (within cancellation window)
Partial refunds (pro-rated based on policy terms)
No refunds (outside cancellation window or after coverage started)
Subscription cancellations (stop future billing)


Plan-Specific Refund Policies:

Single Purchase Plans:

One-time individual trip protection (refundable within 14 days if trip hasn't started)
One-time family trip protection (refundable within 14 days if trip hasn't started)


Subscription Plans:

Monthly individual subscription (cancel anytime, no refund for current month)
Annual family subscription (pro-rated refund for unused months)




Refund Processing Features:

Eligibility verification
Refund amount calculation
Processing to original payment method
Confirmation generation
Policy status updates


Special Cases Handling:

Trip cancellation due to covered reasons
Medical emergencies (potential exceptions)
Duplicate payments
Service issues


Compliance Requirements:

Detailed refund logs
Financial regulations compliance
Insurance regulatory requirements
Reason code documentation



This refund agent complements your payment processing agent by handling the full lifecycle of transactions, including cancellations and refunds. It uses the same Gemini 2.5 Pro model through the Google ADK's LlmAgent class to ensure consistent handling of financial transactions.